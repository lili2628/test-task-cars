{"version":3,"file":"static/js/115.b19386f7.chunk.js","mappings":"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","sources":["webpack://test-task-cars/./src/components/Filter/Filter.module.css?fad1","components/Filter/Filter.jsx","pages/CarsPage/CarsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Filter_container__L5eml global_container__UTuDM\",\"form\":\"Filter_form__wVnxJ\",\"form_element\":\"Filter_form_element__LbIsj\",\"label\":\"Filter_label__vEd1E fonts_ManropeFontSmallMedium__nwlcU\",\"input\":\"Filter_input__N7T3z fonts_ManropeFontMiddleBigMedium__aoSGU\",\"input_wrap\":\"Filter_input_wrap__WVo85\",\"input_make\":\"Filter_input_make__7ODCz Filter_input__N7T3z fonts_ManropeFontMiddleBigMedium__aoSGU\",\"datalist\":\"Filter_datalist__yD+dc fonts_ManropeFontMiddleMedium__+NNco\",\"datalist_make\":\"Filter_datalist_make__6J+5V Filter_datalist__yD+dc fonts_ManropeFontMiddleMedium__+NNco\",\"input_price\":\"Filter_input_price__wBzyB Filter_input__N7T3z fonts_ManropeFontMiddleBigMedium__aoSGU\",\"datalist_price\":\"Filter_datalist_price__6dE77 Filter_datalist__yD+dc fonts_ManropeFontMiddleMedium__+NNco\",\"input_for\":\"Filter_input_for__sCUhP Filter_input__N7T3z fonts_ManropeFontMiddleBigMedium__aoSGU\",\"input_to\":\"Filter_input_to__yPy9i Filter_input__N7T3z fonts_ManropeFontMiddleBigMedium__aoSGU\",\"search_btn\":\"Filter_search_btn__a2wWi global_buttonSearch__PwFdn global_button__hLC30\"};","import { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\n\nimport { changeFiltered } from \"redux/cars/carsSlice\";\nimport { selectCars } from \"redux/cars/selectors\";\nimport css from './Filter.module.css';\nimport makes from 'data/makes.json';\n\n\n\nexport default function Filter({price, make, mileageStart, mileageEnd}) {\n  const dispatch = useDispatch();\n\n  const allCars = useSelector(selectCars);\n\n  let prices = [];\n\n  for (let i = 30; i <= 250; i+=10) {\n    prices.push(i);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const form = e.target;\n    const formData = new FormData(form);\n    const entry = [...formData.entries()];\n    const entryFlat = entry.flat();\n\n    const filter = {\n            make: entryFlat[1],\n            price: entryFlat[3],\n            mileageStart: entryFlat[5],\n            mileageEnd: entryFlat[7],\n    };\n\n    const { make, price, mileageStart, mileageEnd } = filter;\n  \n    let filteredByPrice = [];\n    let filteredByMake = [];\n    let filteredByMileage = [];\n    let idsOfFilteredByPrice = allCars.map(item => item.id);\n    let idsOfFilteredByMake = allCars.map(item => item.id);\n    let idsOfFilteredByMileage = allCars.map(item => item.id);\n  \n    if (price !== \"\") {\n      filteredByPrice = allCars.filter(item => Number(item.rentalPrice.substring(1)) <= price);\n        if (filteredByPrice !== []) {\n          idsOfFilteredByPrice = filteredByPrice.map(item => item.id);\n        } else {\n          idsOfFilteredByPrice = [];\n        }\n    };\n  \n    if (make !== \"\") {\n      filteredByMake = allCars.filter(item => item.make === make);\n      if (filteredByMake !== []) {\n        idsOfFilteredByMake = filteredByMake.map(item => item.id);\n      } else {\n        idsOfFilteredByMake = [];\n      }\n    };\n    \n    \n    if (mileageStart !== \"\" && mileageEnd === \"\") {\n      filteredByMileage = allCars.filter(item => item.mileage >= mileageStart);\n\n      if (filteredByMileage !== []) {\n        idsOfFilteredByMileage = filteredByMileage.map(item => item.id);\n      } else {\n        idsOfFilteredByMileage = [];\n      };\n    };\n    \n    if (mileageStart !== \"\" && mileageEnd !== \"\") {\n      filteredByMileage = allCars.filter(item => (item.mileage >= mileageStart) && (item.mileage <= mileageEnd));\n\n      if (filteredByMileage !== []) {\n        idsOfFilteredByMileage = filteredByMileage.map(item => item.id);\n      } else {\n        idsOfFilteredByMileage = [];\n      };\n    };\n    \n    if (mileageEnd !== \"\" && mileageStart ===\"\") {\n      filteredByMileage = allCars.filter(item => item.mileage <= mileageEnd);\n\n      if (filteredByMileage !== []) {\n        idsOfFilteredByMileage = filteredByMileage.map(item => item.id);\n      } else {\n        idsOfFilteredByMileage = [];\n      };\n    };\n  \n    if (make !== \"\" || price !== \"\" || mileageStart !== \"\" || mileageEnd !== \"\") {\n  \n      const idsOfPriceMakeFilteredCars = idsOfFilteredByMake.filter(value => idsOfFilteredByPrice.includes(value));\n      const idsOfAllFilteredCars = idsOfPriceMakeFilteredCars.filter(value => idsOfFilteredByMileage.includes(value));\n    \n      if (idsOfAllFilteredCars.length !== 0) {\n        const allFilteredCards = allCars.filter(item => idsOfAllFilteredCars.includes(item.id));\n        \n        dispatch(changeFiltered({\n          filtered: allFilteredCards,\n          filter,\n        }));\n      } else {\n        toast(\"No adverts satisfies search option\");\n        dispatch(changeFiltered({\n          filtered: [],\n          filter: {\n            make: \"\",\n            price: \"\",\n            mileageStart: \"\",\n            mileageEnd: \"\",\n          },\n        }));\n      };\n    } else {\n      dispatch(changeFiltered({\n        filtered: [],\n        filter: {\n          make: \"\",\n          price: \"\",\n          mileageStart: \"\",\n          mileageEnd: \"\",\n        },\n      }))\n    };\n  };\n\n\n  return (\n    <div className={css.container}>\n      <form method=\"post\" className={css.form} onSubmit={handleSubmit}>\n        <div className={css.form_element}>\n\n        <label htmlFor=\"make\" className={css.label}>Car brand</label>\n          <input list=\"make-list\" id=\"make\" name=\"make\"  className={css.input_make} placeholder=\"Enter the text\" defaultValue={make ? make : \"\"}/>\n          <datalist id=\"make-list\" className={css.datalist_make}>\n            {makes.map(item => (\n              <option key={item} value={item}></option>\n            ))}\n          </datalist>\n        </div>\n\n        <div className={css.form_element}>\n          <label htmlFor=\"price\" className={css.label} >Price / 1 hour</label>\n          <input list=\"price-list\" id=\"price\" name=\"price\" className={css.input_price} placeholder=\"To $\" defaultValue={price ? price : \"\"}/>\n          <datalist id=\"price-list\" className={css.datalist_price}>\n            {prices.map(item => (\n              <option key={item} value={item}></option>\n            ))}\n          </datalist>\n        </div>\n\n        <div className={css.form_element}>\n          <label htmlFor=\"mileageStart\" className={css.label}>Car mileage / km</label>\n            <div className={css.input_wrap}>\n              <input type=\"number\" id=\"mileageStart\" min=\"0\" name=\"mileageStart\" placeholder=\"From\" className={css.input_for} defaultValue={mileageStart ? mileageStart : \"\"}></input>\n              <input type=\"number\" id=\"mileageEnd\" min=\"0\" name=\"mileageEnd\" placeholder=\"To\" className={css.input_to} defaultValue={mileageEnd ? mileageEnd : \"\"}></input>\n            </div>\n        </div>\n\n        <button type=\"submit\" className={css.search_btn}>Search</button>\n      </form>\n    </div>\n  );\n};\n","import { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\n\nimport { selectShownCars, selectTotal, selectCars, selectFilteredCars, selectFilter } from \"redux/cars/selectors\";\nimport { getCars } from \"redux/cars/operations\";\nimport { addShownCars, addShownFiltered } from \"redux/cars/carsSlice\";\n\nimport Filter from 'components/Filter';\nimport CarsList from 'components/CarsList';\n\n\n\nexport default function CarsPage() {\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n\n    dispatch(getCars());\n\n  }, [dispatch]);\n\n\n  const cars = useSelector(selectShownCars);\n  const total = useSelector(selectTotal);\n  const allCars = useSelector(selectCars);\n  const filteredCars = useSelector(selectFilteredCars);\n  const {make, price, mileageStart, mileageEnd} = useSelector(selectFilter);\n\n  const totalFiltered = filteredCars.length;\n  let notFilterShow = true;\n\n  if (filteredCars.length !== 0) {\n    notFilterShow = false;\n  };\n\n  \n\n\n  return (\n    <>\n      <Filter make={make} price={price} mileageEnd={mileageEnd} mileageStart={mileageStart}/>\n      {!notFilterShow ? (\n        <CarsList allCars={filteredCars} cars={filteredCars} total={totalFiltered} addShown={addShownFiltered}/>\n        ) : (\n        <CarsList allCars={allCars} cars={cars} total={total} addShown={addShownCars}/>\n      )}\n    </>\n  );\n};\n"],"names":["Filter","_ref","price","make","mileageStart","mileageEnd","dispatch","useDispatch","allCars","useSelector","selectCars","prices","i","push","_jsx","className","css","children","_jsxs","method","onSubmit","e","preventDefault","form","target","formData","FormData","entryFlat","_toConsumableArray","entries","flat","filter","filteredByPrice","filteredByMake","filteredByMileage","idsOfFilteredByPrice","map","item","id","idsOfFilteredByMake","idsOfFilteredByMileage","Number","rentalPrice","substring","mileage","idsOfAllFilteredCars","value","includes","length","allFilteredCards","changeFiltered","filtered","toast","htmlFor","list","name","placeholder","defaultValue","makes","type","min","CarsPage","useEffect","getCars","cars","selectShownCars","total","selectTotal","filteredCars","selectFilteredCars","_useSelector","selectFilter","totalFiltered","notFilterShow","_Fragment","CarsList","addShown","addShownCars","addShownFiltered"],"sourceRoot":""}