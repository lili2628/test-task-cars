{"version":3,"file":"static/js/115.b1d042e3.chunk.js","mappings":"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","sources":["webpack://test-task-cars/./src/components/Filter/Filter.module.css?fad1","components/Filter/Filter.jsx","pages/CarsPage/CarsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Filter_container__L5eml global_container__UTuDM\",\"form\":\"Filter_form__wVnxJ\",\"form_element\":\"Filter_form_element__LbIsj\",\"label\":\"Filter_label__vEd1E fonts_ManropeFontSmallMedium__nwlcU\",\"input\":\"Filter_input__N7T3z fonts_ManropeFontMiddleBigMedium__aoSGU\",\"input_wrap\":\"Filter_input_wrap__WVo85\",\"input_make\":\"Filter_input_make__7ODCz Filter_input__N7T3z fonts_ManropeFontMiddleBigMedium__aoSGU\",\"datalist\":\"Filter_datalist__yD+dc fonts_ManropeFontMiddleMedium__+NNco\",\"datalist_make\":\"Filter_datalist_make__6J+5V Filter_datalist__yD+dc fonts_ManropeFontMiddleMedium__+NNco\",\"input_price\":\"Filter_input_price__wBzyB Filter_input__N7T3z fonts_ManropeFontMiddleBigMedium__aoSGU\",\"datalist_price\":\"Filter_datalist_price__6dE77 Filter_datalist__yD+dc fonts_ManropeFontMiddleMedium__+NNco\",\"input_for\":\"Filter_input_for__sCUhP Filter_input__N7T3z fonts_ManropeFontMiddleBigMedium__aoSGU\",\"input_to\":\"Filter_input_to__yPy9i Filter_input__N7T3z fonts_ManropeFontMiddleBigMedium__aoSGU\",\"search_btn\":\"Filter_search_btn__a2wWi global_buttonSearch__PwFdn global_button__hLC30\"};","import { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\n\nimport { changeFiltered } from \"redux/cars/carsSlice\";\nimport { selectCars } from \"redux/cars/selectors\";\nimport css from './Filter.module.css';\nimport makes from 'data/makes.json';\n\n\n\nexport default function Filter() {\n  const dispatch = useDispatch();\n\n  const allCars = useSelector(selectCars);\n\n  let prices = [];\n\n  for (let i = 30; i <= 250; i+=10) {\n    prices.push(i);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const form = e.target;\n    const formData = new FormData(form);\n    const entry = [...formData.entries()];\n    const entryFlat = entry.flat();\n\n    const filter = {\n            make: entryFlat[1],\n            price: entryFlat[3],\n            mileageStart: entryFlat[5],\n            mileageEnd: entryFlat[7],\n    };\n\n    const { make, price, mileageStart, mileageEnd } = filter;\n  \n    let filteredByPrice = [];\n    let filteredByMake = [];\n    let filteredByMileage = [];\n    let idsOfFilteredByPrice = allCars.map(item => item.id);\n    let idsOfFilteredByMake = allCars.map(item => item.id);\n    let idsOfFilteredByMileage = allCars.map(item => item.id);\n  \n    if (price !== \"\") {\n      filteredByPrice = allCars.filter(item => Number(item.rentalPrice.substring(1)) <= price);\n        if (filteredByPrice !== []) {\n          idsOfFilteredByPrice = filteredByPrice.map(item => item.id);\n        } else {\n          idsOfFilteredByPrice = [];\n        }\n    };\n  \n    if (make !== \"\") {\n      filteredByMake = allCars.filter(item => item.make === make);\n      if (filteredByMake !== []) {\n        idsOfFilteredByMake = filteredByMake.map(item => item.id);\n      } else {\n        idsOfFilteredByMake = [];\n      }\n    };\n    \n    \n    if (mileageStart !== \"\" && mileageEnd === \"\") {\n      filteredByMileage = allCars.filter(item => item.mileage >= mileageStart);\n\n      if (filteredByMileage !== []) {\n        idsOfFilteredByMileage = filteredByMileage.map(item => item.id);\n      } else {\n        idsOfFilteredByMileage = [];\n      };\n    };\n    \n    if (mileageStart !== \"\" && mileageEnd !== \"\") {\n      filteredByMileage = allCars.filter(item => (item.mileage >= mileageStart) && (item.mileage <= mileageEnd));\n\n      if (filteredByMileage !== []) {\n        idsOfFilteredByMileage = filteredByMileage.map(item => item.id);\n      } else {\n        idsOfFilteredByMileage = [];\n      };\n    };\n    \n    if (mileageEnd !== \"\" && mileageStart ===\"\") {\n      filteredByMileage = allCars.filter(item => item.mileage <= mileageEnd);\n\n      if (filteredByMileage !== []) {\n        idsOfFilteredByMileage = filteredByMileage.map(item => item.id);\n      } else {\n        idsOfFilteredByMileage = [];\n      };\n    };\n  \n    if (make !== \"\" || price !== \"\" || mileageStart !== \"\" || mileageEnd !== \"\") {\n  \n      const idsOfPriceMakeFilteredCars = idsOfFilteredByMake.filter(value => idsOfFilteredByPrice.includes(value));\n      const idsOfAllFilteredCars = idsOfPriceMakeFilteredCars.filter(value => idsOfFilteredByMileage.includes(value));\n    \n      if (idsOfAllFilteredCars.length !== 0) {\n        const allFilteredCards = allCars.filter(item => idsOfAllFilteredCars.includes(item.id));\n        \n        dispatch(changeFiltered({\n          filtered: allFilteredCards,\n          filter,\n        }));\n      } else {\n        toast(\"No adverts satisfies search option\");\n        dispatch(changeFiltered({\n          filtered: [],\n          filter: {\n            make: \"\",\n            price: \"\",\n            mileageStart: \"\",\n            mileageEnd: \"\",\n          },\n        }));\n      };\n    } else {\n      dispatch(changeFiltered({\n        filtered: [],\n        filter: {\n          make: \"\",\n          price: \"\",\n          mileageStart: \"\",\n          mileageEnd: \"\",\n        },\n      }))\n    };\n  };\n\n\n  return (\n    <div className={css.container}>\n      <form method=\"post\" className={css.form} onSubmit={handleSubmit}>\n        <div className={css.form_element}>\n\n          <label htmlFor=\"make\" className={css.label}>Car brand</label>\n          <input list=\"make-list\" id=\"make\" name=\"make\"  className={css.input_make} placeholder=\"Enter the text\" />\n          <datalist id=\"make-list\" className={css.datalist_make}>\n            {makes.map(item => (\n              <option key={item} value={item}></option>\n            ))}\n          </datalist>\n        </div>\n\n        <div className={css.form_element}>\n          <label htmlFor=\"price\" className={css.label} >Price / 1 hour</label>\n          <input list=\"price-list\" id=\"price\" name=\"price\" className={css.input_price} placeholder=\"To $\" />\n          <datalist id=\"price-list\" className={css.datalist_price}>\n            {prices.map(item => (\n              <option key={item} value={item}></option>\n            ))}\n          </datalist>\n        </div>\n\n        <div className={css.form_element}>\n          <label htmlFor=\"mileageStart\" className={css.label}>Car mileage / km</label>\n            <div className={css.input_wrap}>\n              <input type=\"number\" id=\"mileageStart\" min=\"0\" name=\"mileageStart\" placeholder=\"From\" className={css.input_for} ></input>\n              <input type=\"number\" id=\"mileageEnd\" min=\"0\" name=\"mileageEnd\" placeholder=\"To\" className={css.input_to} ></input>\n            </div>\n        </div>\n\n        <button type=\"submit\" className={css.search_btn}>Search</button>\n      </form>\n    </div>\n  );\n};\n","import { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\n\nimport { selectShownCars, selectTotal, selectCars, selectFilteredCars } from \"redux/cars/selectors\";\nimport { getCars } from \"redux/cars/operations\";\nimport { addShownCars, addShownFiltered } from \"redux/cars/carsSlice\";\n\nimport Filter from 'components/Filter';\nimport CarsList from 'components/CarsList';\n\n\n\nexport default function CarsPage() {\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n\n    dispatch(getCars());\n\n  }, [dispatch]);\n\n\n  const cars = useSelector(selectShownCars);\n  const total = useSelector(selectTotal);\n  const allCars = useSelector(selectCars);\n  const filteredCars = useSelector(selectFilteredCars);\n\n  const totalFiltered = filteredCars.length;\n  let notFilterShow = true;\n\n  if (filteredCars.length !== 0) {\n    notFilterShow = false;\n  };\n\n\n  return (\n    <>\n      <Filter />\n      {!notFilterShow ? (\n        <CarsList allCars={filteredCars} cars={filteredCars} total={totalFiltered} addShown={addShownFiltered}/>\n        ) : (\n        <CarsList allCars={allCars} cars={cars} total={total} addShown={addShownCars}/>\n      )}\n    </>\n  );\n};\n"],"names":["Filter","dispatch","useDispatch","allCars","useSelector","selectCars","prices","i","push","_jsx","className","css","children","_jsxs","method","onSubmit","e","preventDefault","form","target","formData","FormData","entryFlat","_toConsumableArray","entries","flat","filter","make","price","mileageStart","mileageEnd","filteredByPrice","filteredByMake","filteredByMileage","idsOfFilteredByPrice","map","item","id","idsOfFilteredByMake","idsOfFilteredByMileage","Number","rentalPrice","substring","mileage","idsOfAllFilteredCars","value","includes","length","allFilteredCards","changeFiltered","filtered","toast","htmlFor","list","name","placeholder","makes","type","min","CarsPage","useEffect","getCars","cars","selectShownCars","total","selectTotal","filteredCars","selectFilteredCars","totalFiltered","notFilterShow","_Fragment","CarsList","addShown","addShownCars","addShownFiltered"],"sourceRoot":""}